{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = new SimpleLightbox('.gallery a');\n\nexport function clearGallery() {\n    const galleryElement = document.querySelector('.gallery');\n    galleryElement.innerHTML = '';\n}\n\nexport function renderImages(images) {\n    const galleryElement = document.querySelector('.gallery');\n    const imageElements = images.map(image => {\n        return `\n        <li class=\"item\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"image\"/>\n            </a>\n            <ul class=\"stats-list\">\n                <li class=\"stats-list-item\">\n            <h3>Likes</h3>\n            <p>${image.likes}</p>\n                </li>\n                <li class=\"stats-list-item\">\n            <h3>Views</h3>\n            <p>${image.views}</p>\n                </li>\n                <li class=\"stats-list-item\">\n            <h3>Comments</h3>\n            <p>${image.comments}</p>\n                </li>\n                <li class=\"stats-list-item\">\n            <h3>Downloads</h3>\n            <p>${image.downloads}</p>\n                </li>\n            </ul>    \n        </li>\n        `;\n    }).join('');\n\n    galleryElement.insertAdjacentHTML('beforeend', imageElements);\n    gallery.refresh();\n}\n\nexport function showLoader() {\n    document.querySelector('.loader').style.display = 'block';\n}\n\nexport function hideLoader() {\n    document.querySelector('.loader').style.display = 'none';\n}\n\nwindow.addEventListener('load', () => {\n    document.querySelector('.loader').style.display = 'block'; \n    setTimeout(() => {\n        document.querySelector('.loader').style.display = 'none'; \n    }, 500);\n});\n","import axios from 'axios';\nimport { renderImages } from './render-functions.js';\nimport { searchInput } from '../main.js';\n\n\nconst API_KEY = '43277181-ebb9172f58fa43bc64ca23581';\nconst loadButton = document.querySelector('.btn');\nconst gallery = document.querySelector('.gallery')\nloadButton.addEventListener('click', loadMore);\nlet page = 1;\n\nexport async function fetchImages(searchQuery) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 15,\n        page: page\n    })\n    \n    \n    const url = `https://pixabay.com/api/?${params}`;\n    try {\n        \n        const response = await axios(url);\n        if(response.data.totalHits <= 500){\n        loadButton.classList.replace('btn-hidden', 'btn');\n        }\n        return response.data.hits;\n        }\n        catch(error){\n            throw new Error('Failed to fetch images');\n        };\n}\n\nasync function loadMore() {\n    page += 1;\n    console.log(page);\n    loadButton.disabled = true;\n\n    try {\n        const searchQuery = searchInput.value.trim();\n        const data = await fetchImages(searchQuery);\n        console.log(data);\n        gallery.insertAdjacentHTML('beforeend', renderImages(data));\n        loadButton.disabled = false;\n    } catch (error) {\n        throw new Error('Failed to fetch images');\n    }\n\n}","import iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nimport { clearGallery, renderImages, showLoader, hideLoader } from './js/render-functions';\n\nimport { fetchImages } from './js/pixabay-api.js';\n\nconst form = document.querySelector('.search-form');\nexport const searchInput = document.querySelector('.search-input');\n\n\n\nform.addEventListener('submit', handleSubmit);\n    \nasync function handleSubmit(event) {\n    event.preventDefault();\n    const searchQuery = searchInput.value.trim();\n    console.log(searchQuery);\n    if (!searchQuery) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query',\n        });\n        return;\n    }\n    try{\n    showLoader();\n    clearGallery();\n    const images = await fetchImages(searchQuery)\n            if (images.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                renderImages(images);\n        }\n\n        }\n        catch (error) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Failed to fetch images. Please try again later!',\n            });\n        }\n        finally{\n            hideLoader();\n        };\n}\n"],"names":["gallery","SimpleLightbox","clearGallery","galleryElement","renderImages","images","imageElements","image","showLoader","hideLoader","API_KEY","loadButton","loadMore","page","fetchImages","searchQuery","url","response","axios","searchInput","data","form","handleSubmit","event","iziToast"],"mappings":"+vBAGA,MAAMA,EAAU,IAAIC,EAAe,YAAY,EAExC,SAASC,GAAe,CAC3B,MAAMC,EAAiB,SAAS,cAAc,UAAU,EACxDA,EAAe,UAAY,EAC/B,CAEO,SAASC,EAAaC,EAAQ,CACjC,MAAMF,EAAiB,SAAS,cAAc,UAAU,EAClDG,EAAgBD,EAAO,IAAIE,GACtB;AAAA;AAAA,uBAEQA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKjDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,SAK3B,EAAE,KAAK,EAAE,EAEVJ,EAAe,mBAAmB,YAAaG,CAAa,EAC5DN,EAAQ,QAAO,CACnB,CAEO,SAASQ,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OACtD,CAEO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACtD,CAEA,OAAO,iBAAiB,OAAQ,IAAM,CAClC,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAClD,WAAW,IAAM,CACb,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACrD,EAAE,GAAG,CACV,CAAC,ECpDD,MAAMC,EAAU,qCACVC,EAAa,SAAS,cAAc,MAAM,EAC1CX,EAAU,SAAS,cAAc,UAAU,EACjDW,EAAW,iBAAiB,QAASC,CAAQ,EAC7C,IAAIC,EAAO,EAEJ,eAAeC,EAAYC,EAAa,CAY3C,MAAMC,EAAM,4BAXG,IAAI,gBAAgB,CAC/B,IAAKN,EACL,EAAGK,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMF,CACd,CAAK,CAG6C,GAC9C,GAAI,CAEA,MAAMI,EAAW,MAAMC,EAAMF,CAAG,EAChC,OAAGC,EAAS,KAAK,WAAa,KAC9BN,EAAW,UAAU,QAAQ,aAAc,KAAK,EAEzCM,EAAS,KAAK,IACpB,MACW,CACR,MAAM,IAAI,MAAM,wBAAwB,CACpD,CACA,CAEA,eAAeL,GAAW,CACtBC,GAAQ,EACR,QAAQ,IAAIA,CAAI,EAChBF,EAAW,SAAW,GAEtB,GAAI,CACA,MAAMI,EAAcI,EAAY,MAAM,KAAI,EACpCC,EAAO,MAAMN,EAAYC,CAAW,EAC1C,QAAQ,IAAIK,CAAI,EAChBpB,EAAQ,mBAAmB,YAAaI,EAAagB,CAAI,CAAC,EAC1DT,EAAW,SAAW,EACzB,MAAe,CACZ,MAAM,IAAI,MAAM,wBAAwB,CAC3C,CAEL,CC1CA,MAAMU,EAAO,SAAS,cAAc,cAAc,EACrCF,EAAc,SAAS,cAAc,eAAe,EAIjEE,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,eAAeA,EAAaC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMR,EAAcI,EAAY,MAAM,KAAI,EAE1C,GADA,QAAQ,IAAIJ,CAAW,EACnB,CAACA,EAAa,CACdS,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACrB,CAAS,EACD,MACH,CACD,GAAG,CACHhB,IACAN,IACA,MAAMG,EAAS,MAAMS,EAAYC,CAAW,EAChCV,EAAO,SAAW,EAClBmB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EAEDpB,EAAaC,CAAM,CAG1B,MACa,CACVmB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDACzB,CAAa,CACJ,QACM,CACHf,GAEZ,CAAA"}